<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.mini.soyg.main.service.main-mapper">

<!-- 메인 지역별 카테고리 리스트 보여주기 -->
<select id="mainRegionList" resultType="co.mini.soyg.main.vo.MainVO">
	select * from category where BIGCODE = 'L' and not loc_code is null
</select>

<!-- 메인 분야별 카테고리 리스트 보여주기 -->
<select id="mainFieldsList" resultType="co.mini.soyg.main.vo.MainVO">
	select * from category where BIGCODE = 'F' and not field_code is null
</select>

<!-- 지역별 스터디 아이콘 클릭 시 처리 -->
<select id="regionList" parameterType="co.mini.soyg.main.vo.MainVO" resultType="co.mini.soyg.main.vo.MainVO">
	select * from class where loc_code = #{loc_code}
</select>

<!-- 분야별 스터디 아이콘 클릭 시 처리 -->
<select id="fieldsList" parameterType="co.mini.soyg.main.vo.MainVO" resultType="co.mini.soyg.main.vo.MainVO">
	select * from class where field_code = #{field_code}
</select>

<!-- 지역별 카테고리 리스트 상세 -->
<select id="regSelect" resultType="co.mini.soyg.main.vo.MainVO">
	select loc_code, loc_name from category where BIGCODE = 'L' and not loc_code is null
</select>

<!-- 분야별 카테고리 리스트 상세 -->
<select id="fieldsSelect" resultType="co.mini.soyg.main.vo.MainVO">
	select field_code, field_name from category where BIGCODE = 'F' and not field_code is null
</select>

<!-- 지역 카테고리별 리스트 간판에 무슨 페이지인지 띄워주고 싶다 -->
<select id="regionName" resultType="co.mini.soyg.main.vo.MainVO">
	select loc_name from category where loc_code = #{loc_code}
</select>

<!-- 분야 카테고리별 리스트 간판에 올려줄 이름 -->
<select id="fieldsName" resultType="co.mini.soyg.main.vo.MainVO">
	select field_name from category where field_code = #{field_code}
</select>

<!-- 검색 기능을 만들자 -->
<select id="searchClass" resultType="co.mini.soyg.main.vo.MainVO" parameterType="co.mini.soyg.main.vo.MainVO">
	select * from search
	where LOC_NAME like '%' || #{search} || '%' 
	or FIELD_NAME like '%' || #{search} || '%' 
	or class_name like '%' || #{search} || '%'
</select>
</mapper>
