<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.mini.soyg.adminUsers.service.user-mapper">

	<!-- 
		관리자 회원 관련 기능
		
		일반 멤버와 차별화를 두기 위해 User로 임의 설정.
		쿼리는 DB명 그대로 member
	-->

	<!-- 회원 전체 조회 -->
	<select id="userList" resultType="co.mini.soyg.adminUsers.vo.UserVO">
		select * from member
	</select>

	<!-- 회원 하나 조회 -->
	<select id="userSelect" parameterType="co.mini.soyg.adminUsers.vo.UserVO" resultType="co.mini.soyg.adminUsers.vo.UserVO">
		select * from member where userID = #{userID}
	</select>

	<!-- 회원 수정 -->
	<update id="userUpdate" parameterType="co.mini.soyg.adminUsers.vo.UserVO">
		update member 
		set password = #{password}, address = #{address}, 
			email = #{email}, gender = #{gender}, 
			phone = #{phone}, birth = #{birth}, name = #{name}
		where userID = #{userID}  
	</update>

	<!-- 회원 삭제 -->
	<update id="userDelete" parameterType="co.mini.soyg.adminUsers.vo.UserVO">
		<!-- update member 
		set password = #{password}, 
						address = #{address, jdbcType=VARCHAR}, 
						email = #{email, jdbcType=VARCHAR}, gender = #{gender, jdbcType=VARCHAR}, 
						phone = #{phone, jdbcType=VARCHAR}, birth = #{birth, jdbcType=VARCHAR} 
		where userID = #{userID} -->
		delete from member where userID = #{userID}  
	</update>
	
	<!-- 페이징 --> 
	<select id = "userPaging" parameterType="co.mini.soyg.adminUsers.vo.UserVO" resultType="co.mini.soyg.adminUsers.vo.UserVO">
		SELECT * FROM (SELECT ROWNUM RN, A.* FROM (SELECT * FROM member ORDER BY 1 DESC ) A) WHERE RN BETWEEN #{firstCnt} AND #{lastCnt}
	</select>


	<select id = "userCnt" resultType = "int">
		select count(*) from member
	</select>
	
	
	
</mapper>